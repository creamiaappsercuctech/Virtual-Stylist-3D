<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>SerCucTech Virtual Stylist 2D PRO</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#111">

<style>
body{margin:0;font-family:system-ui;background:#0b0b0f;color:#fff;text-align:center}
header{padding:14px;font-size:20px;font-weight:700}
button,input,select{padding:12px;border-radius:12px;border:none;margin:5px;background:#1e1e27;color:#fff}
#stage{position:relative;width:100%;max-width:380px;margin:auto;height:520px;background:#000;border-radius:20px;overflow:hidden}
.layer{position:absolute;left:50%;transform:translateX(-50%)}
#person{bottom:0;height:100%;z-index:1}
#cloth{z-index:2}
#wardrobe img{width:80px;border-radius:10px;margin:6px;cursor:pointer}
#fullscreen{position:fixed;inset:0;background:#000;display:none;z-index:100}
</style>
</head>

<body>

<header>SerCucTech Virtual Stylist 2D PRO</header>

<button onclick="loadPerson()">ðŸ“¸ Carica persona</button>
<button onclick="addCloth()">ðŸ‘— Aggiungi capo</button>
<button onclick="toggleFS()">ðŸ”² Fullscreen</button>

<div id="stage">
<img id="person" class="layer">
<img id="cloth" class="layer">
</div>

<div id="wardrobe"></div>

<div id="fullscreen" onclick="toggleFS()">
<div id="stageFS"></div>
</div>

<input type="file" id="filePerson" hidden accept="image/*">
<input type="file" id="fileCloth" hidden accept="image/*">

<script>
const person=document.getElementById('person')
const cloth=document.getElementById('cloth')
const wardrobe=document.getElementById('wardrobe')
const filePerson=document.getElementById('filePerson')
const fileCloth=document.getElementById('fileCloth')

function loadPerson(){filePerson.click()}
filePerson.onchange=e=>{
 const r=new FileReader()
 r.onload=()=>person.src=r.result
 r.readAsDataURL(e.target.files[0])
}

function addCloth(){fileCloth.click()}
fileCloth.onchange=e=>{
 const r=new FileReader()
 r.onload=()=>{
  const img=document.createElement('img')
  img.src=r.result
  img.onclick=()=>wear(img.src)
  wardrobe.appendChild(img)
 }
 r.readAsDataURL(e.target.files[0])
}

function wear(src){
 cloth.src=src
 cloth.style.width="70%"
 cloth.style.bottom="18%"
}

function toggleFS(){
 const fs=document.getElementById('fullscreen')
 if(fs.style.display==="block"){fs.style.display="none"}
 else{
  document.getElementById('stageFS').innerHTML=document.getElementById('stage').innerHTML
  fs.style.display="block"
 }
}
</script>

</body>
</html>
